<button
  type="button"
  role="switch"
  data-state="light"
  class="switch js-themeToggle"
  aria-label="テーマを変更する"
>
  <span
    data-state="light"
    class="switch-label"
  >
    <span
      class="theme-icon"
      aria-hidden="true"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="12"
        height="12"
        viewBox="0 0 24 24"
        fill="none"
        stroke="var(--c-text-3)"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-sun sun"
        ><circle
          cx="12"
          cy="12"
          r="4"
        ></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path
          d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"
        ></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path
          d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"
        ></path></svg
      >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="12"
        height="12"
        viewBox="0 0 24 24"
        fill="none"
        stroke="var(--c-text-3)"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-moon moon"
        ><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg
      >
    </span>
  </span>
</button>

<style lang="scss">
  .switch {
    position: relative;
    display: inline-flex;
    justify-items: center;
    width: 44px;
    height: 24px;
    padding: 0;
    background: var(--c-input);
    border: 2px solid transparent;
    border-radius: var(--rounded-lg);
  }

  .switch:focus-visible {
    outline-color: var(--c-primary);
    outline-offset: 2px;
  }

  .switch.is-dark {
    background: var(--c-input);
  }

  .switch-label {
    position: absolute;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    background: var(--c-background);
    border-radius: var(--rounded-full);
    box-shadow: 0 2px 4px 0 var(--c-shadow);
    transition: transform 0.2s;
    transform: translateX(0);
  }

  .switch-label:where(.switch.is-dark *) {
    transform: translateX(20px);
  }

  .theme-icon {
    position: relative;
    z-index: 99;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 16px;
    height: 16px;
  }

  .theme-icon .sun:where(.switch.is-dark *),
  .theme-icon .moon {
    display: none;
  }

  .theme-icon .moon:where(.switch.is-dark *) {
    display: block;
  }
</style>

<script>
  import '@/js/themeChanger.js'
</script>
